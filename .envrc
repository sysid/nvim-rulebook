#!/usr/bin/env bash
# vim: set foldmethod=marker foldmarker={{{,}}}:
# shellcheck disable=SC1091
source "$TW_BINX/lib/sane_fn.sh"
PROJ_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
export PROJ_DIR

if which tmux > /dev/null 2>&1; then
    tmux rename-window "$(basename "$PROJ_DIR")"
fi

############### Exports ###############
export RUN_ENV=local
export senv="source $PROJ_DIR/scripts/env.sh"

dotenv ~/dev/s/private/sec-sops/tw.env

export RPLC_CONFIG="$VIMWIKI_PATH/help/nvim-rulebook.md"
export RPLC_MIRROR_DIR="$HOME/dev/s/private/py-twlib/rplc/sysid/nvim-rulebook"
swapin() {
    rplc -v swapin
    direnv allow
}
export_function swapin
swapout() {
    rplc -v swapout
    direnv allow
}
export_function swapout

PATH_add "$PROJ_DIR"  # gradlew
PATH_add "$PROJ_DIR"/scripts
woot() {
    echo woot
}
export_function woot
